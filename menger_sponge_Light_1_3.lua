


--[[	--------------------------------------------------------------------

				Menger Sponge Lvl -1 Light

	--------------------------------------------------------------------	--]]



minetest.register_node("menger_sponge:light_1_3", {
	description = "Menger Light 1/3",
	
	paramtype = "light",
	paramtype2 = "wallmounted",
	
	walkable = false,
	
	
	light_source = LIGHT_MAX - 3,
--
	
	tiles = {"menger_sponge_Light_1-3__27x27-9x9.png"},
	

--[[

	-- version en "cubes" de 1/27 d'épesseur
	
	drawtype = "nodebox",
	node_box = {
		type = "fixed",
		fixed = {
			
			-- Cube central (lumière)
		
			{-0.0556, -0.0556, -0.0556, 		0.0556, 0.0556, 0.0556},
				
			
				-- barres selon (x) avec y = [-0.1667 ; -0.0556]
				
				{-0.1667, -0.1667, -0.1667, 		0.1667, -0.0556, -0.0556},
				{-0.1667, -0.1667, 0.0556, 		0.1667, -0.0556, 0.1667},
				
				-- barres sur (x) avec y = [0.0556, 0.1667]
				
				{-0.1667, 0.0556, -0.1667, 		0.1667, 0.1667, -0.0556},
				{-0.1667, 0.0556, 0.0556, 		0.1667, 0.1667, 0.1667},
				
				
				-- cubes sur (x) avec z =[-0.0556 ; 0.0556] et y = [-0.1667 ; -0.0556]
				
				{-0.1667, -0.1667, -0.1667, 		-0.0556, -0.0556, 0.0556},
				{0.0556, -0.1667, -0.1667, 		0.1667, -0.0556, 0.0556},
				
				-- cubes sur (x) avec z =[-0.0556 ; 0.0556] et y = [0.0556 ; 0.1667]
				
				{-0.1667, 0.0556, -0.0556, 		-0.0556, 0.1667, 0.0556},
				{0.0556, 0.0556, -0.0556, 		0.1667, 0.1667, 0.0556},
				
				-- cubes sur (y) avec y = [-0.0556 ; 0.05567]
				
				{-0.1667, -0.0556, -0.1667, 		-0.0556, 0.0556, -0.0556},
				{0.0556, -0.0556, 0.0556, 		0.1667, 0.0556, 0.1667},
				
				{-0.1667, -0.0556, 0.0556, 		-0.0556, 0.0556, 0.1667},
				{0.0556, -0.0556, -0.1667, 		0.1667, 0.0556, -0.0556},
			
			
		-- Pieds suppérieur
			
			-- y = [-0.2037 ; -0.1667]
			
			{-0.0371, -0.2037, -0.0371, 		-0.0186, -0.1667, -0.0186},
			{-0.0371, -0.2037, 0.0186, 		-0.0186, -0.1667, 0.0371},
			{0.0186, -0.2037, -0.0371, 		0.0371, -0.1667, -0.0186},
			{0.0186, -0.2037, 0.0186, 		0.0371, -0.1667, 0.0371},
			
			-- y = [-0.2408 ; -0.2037]
			
			{-0.0556, -0.2408, -0.0556, 		-0.0186, -0.2037, -0.0186},
			{-0.0556, -0.2408, 0.0186, 		-0.0186, -0.2037, 0.0556},
			{0.0186, -0.2408, -0.0556, 		0.0556, -0.2037, -0.0186},
			{0.0186, -0.2408, 0.0186, 		0.0556, -0.2037, 0.0556},
			
			-- y = [-0.2778 ; -0.2408]
			
			{-0.0741, -0.2778, -0.0741, 		-0.0371, -0.2408, -0.0371},
			{-0.0741, -0.2778, 0.0371, 		-0.0371, -0.2408, 0.0741},
			{0.0371, -0.2778, -0.0741, 		0.0741, -0.2408, -0.0371},
			{0.0371, -0.2778, 0.0371, 		0.0741, -0.2408, 0.0741},
			
		-- couronne sup
			
			-- y = [-0.3148 ; -0.2778]
			
			{-0.0926, -0.3148, -0.0926, 		0.0926, -0.2778, -0.0556},
			{-0.0926, -0.3148, -0.0926, 		-0.0556, -0.2778, 0.0926},
			{0.0556, -0.3148, -0.0926, 		0.0926, -0.2778, 0.0926},
			{-0.0926, -0.3148, 0.0556, 		0.0926, -0.2778, 0.0926},
			
		-- pieds inférieurs
			
			-- y = [-0.3519 ; -0.3148]
			
			{-0.1297, -0.3519, -0.1297, 		-0.0556, -0.3148, -0.0556},
			{-0.1297, -0.3519, 0.0556, 		-0.0556, -0.3148, 0.1297},
			{0.0556, -0.3519, -0.1297, 		0.1297, -0.3148, -0.0556},
			{0.0556, -0.3519, 0.0556, 		0.1297, -0.3148, 0.1297},
			
			-- y = [-0.3889 ; -0.3519]
			
			{-0.1667, -0.3889, -0.1667, 		-0.0926, -0.3519, -0.0926},
			{-0.1667, -0.3889, 0.0926, 		-0.0926, -0.3519, 0.1667},
			{0.0926, -0.3889, -0.1667, 		0.1667, -0.3519, -0.0926},
			{0.0926, -0.3889, 0.0926, 		0.1667, -0.3519, 0.1667},
			
			-- y = [-0.4259 ; -0.3889]
			
			{-0.2037, -0.4259, -0.2037, 		-0.1297, -0.3889, -0.1297},
			{-0.2037, -0.4259, 0.1297, 		-0.1297, -0.3889, 0.2037},
			{0.1297, -0.4259, -0.2037, 		0.2037, -0.3889, -0.1297},
			{0.1297, -0.4259, 0.1297, 		0.2037, -0.3889, 0.2037},
			
			-- y = [-0.4630 ; -0.4259]
			
			{-0.2408, -0.4630, -0.2408, 		-0.1667, -0.4259, -0.1667},
			{-0.2408, -0.4630, 0.1667, 		-0.1667, -0.4259, 0.2408},
			{0.1667, -0.4630, -0.2408, 		0.2408, -0.4259, -0.1667},
			{0.1667, -0.4630, 0.1667, 		0.2408, -0.4259, 0.2408},
			
			-- y = [-0.5 ; -0.4630]
			
			{-0.2778, -0.5, -0.2778, 		-0.1667, -0.4630, -0.1667},
			{-0.2778, -0.5, 0.1667, 		-0.1667, -0.4630, 0.2778},
			{0.1667, -0.5, -0.2778, 		0.2778, -0.4630, -0.1667},
			{0.1667, -0.5, 0.1667, 			0.2778, -0.4630, 0.2778},
			
		-- arcades pieds
			
			-- y = [-0.4815 ; -0.4444]
			
			{-0.1667, -0.4815, -0.2593, 		-0.1297, -0.4444, -0.2222},
			{0.1297, -0.4815, -0.2593, 		0.1667, -0.4444, -0.2222},
			{-0.1667, -0.4815, 0.2222, 		-0.1297, -0.4444, 0.2593},
			{0.1297, -0.4815, 0.2222, 		0.1667, -0.4444, 0.2593},
			
			{-0.2593, -0.4815, -0.1667, 		-0.2222, -0.4444, -0.1297},
			{-0.2593, -0.4815, 0.1297, 		-0.2222, -0.4444, 0.1667},
			{0.2222, -0.4815, -0.1667, 		0.2593, -0.4444, -0.1297},
			{0.2222, -0.4815, 0.1297, 		0.2593, -0.4444, 0.1667},
			
			-- y = [-0.4630 ; -0.4259]
			
			{-0.1297, -0.4630, -0.2408, 		-0.0556, -0.4259, -0.2037},
			{0.0556, -0.4630, -0.2408, 		0.1297, -0.4259, -0.2037},
			{-0.1297, -0.4630, 0.2037, 		-0.0556, -0.4259, 0.2408},
			{0.0556, -0.4630, 0.2037, 		0.1297, -0.4259, 0.2408},
			
			{-0.2408, -0.4630, -0.1297, 		-0.2037, -0.4259, -0.0556},
			{-0.2408, -0.4630, 0.0556, 		-0.2037, -0.4259, 0.1297},
			{0.2037, -0.4630, -0.1297, 		0.2408, -0.4259, -0.0556},
			{0.2037, -0.4630, 0.0556, 		0.2408, -0.4259, 0.1297},
			
			-- y = [-0.4259 ; -0.3889]
			
			{-0.0556, -0.4444, -0.2222, 		0.0556, -0.4074, -0.1852},
			{-0.0556, -0.4444, 0.1852, 		0.0556, -0.4074, 0.2222},
			{-0.2222, -0.4444, -0.0556, 		-0.1852, -0.4074, 0.0556},
			{0.1852, -0.4444, -0.0556, 		0.2222, -0.4074, 0.0556},
			
			
		},
	},
	
--]]
	
	
--

	-- version en "plaques" de 1/(27*2) d'épesseur
	
	drawtype = "nodebox",
	node_box = {
		type = "fixed",
		fixed = {
			
			-- Cube central (lumière)
		
			{-0.0556, -0.0556, -0.0556, 		0.0556, 0.0556, 0.0556},
				
			
				-- barres selon (x) avec y = [-0.1667 ; -0.0556]
				
				{-0.1667, -0.1667, -0.1667, 		0.1667, -0.0556, -0.0556},
				{-0.1667, -0.1667, 0.0556, 		0.1667, -0.0556, 0.1667},
				
				-- barres sur (x) avec y = [0.0556, 0.1667]
				
				{-0.1667, 0.0556, -0.1667, 		0.1667, 0.1667, -0.0556},
				{-0.1667, 0.0556, 0.0556, 		0.1667, 0.1667, 0.1667},
				
				
				-- cubes sur (x) avec z =[-0.0556 ; 0.0556] et y = [-0.1667 ; -0.0556]
				
				{-0.1667, -0.1667, -0.1667, 		-0.0556, -0.0556, 0.0556},
				{0.0556, -0.1667, -0.1667, 		0.1667, -0.0556, 0.0556},
				
				-- cubes sur (x) avec z =[-0.0556 ; 0.0556] et y = [0.0556 ; 0.1667]
				
				{-0.1667, 0.0556, -0.0556, 		-0.0556, 0.1667, 0.0556},
				{0.0556, 0.0556, -0.0556, 		0.1667, 0.1667, 0.0556},
				
				-- cubes sur (y) avec y = [-0.0556 ; 0.05567]
				
				{-0.1667, -0.0556, -0.1667, 		-0.0556, 0.0556, -0.0556},
				{0.0556, -0.0556, 0.0556, 		0.1667, 0.0556, 0.1667},
				
				{-0.1667, -0.0556, 0.0556, 		-0.0556, 0.0556, 0.1667},
				{0.0556, -0.0556, -0.1667, 		0.1667, 0.0556, -0.0556},
			
			
		-- Pieds suppérieur
			
			-- y = [-0.2037 ; -0.1667]
			
			{-0.0371, -0.2037, -0.0371, 		-0.0186, -0.1667, -0.0186},
			{-0.0371, -0.2037, 0.0186, 		-0.0186, -0.1667, 0.0371},
			{0.0186, -0.2037, -0.0371, 		0.0371, -0.1667, -0.0186},
			{0.0186, -0.2037, 0.0186, 		0.0371, -0.1667, 0.0371},
			
			-- y = [-0.2408 ; -0.2037]
			
			{-0.0556, -0.2408, -0.0556, 		-0.0186, -0.2037, -0.0186},
			{-0.0556, -0.2408, 0.0186, 		-0.0186, -0.2037, 0.0556},
			{0.0186, -0.2408, -0.0556, 		0.0556, -0.2037, -0.0186},
			{0.0186, -0.2408, 0.0186, 		0.0556, -0.2037, 0.0556},
			
			-- y = [-0.2778 ; -0.2408]
			
			{-0.0741, -0.2778, -0.0741, 		-0.0371, -0.2408, -0.0371},
			{-0.0741, -0.2778, 0.0371, 		-0.0371, -0.2408, 0.0741},
			{0.0371, -0.2778, -0.0741, 		0.0741, -0.2408, -0.0371},
			{0.0371, -0.2778, 0.0371, 		0.0741, -0.2408, 0.0741},
			
		-- couronne sup
			
			-- y = [-0.3148 ; -0.2778]
			
			{-0.0926, -0.3148, -0.0926, 		0.0926, -0.2778, -0.0556},
			{-0.0926, -0.3148, -0.0926, 		-0.0556, -0.2778, 0.0926},
			{0.0556, -0.3148, -0.0926, 		0.0926, -0.2778, 0.0926},
			{-0.0926, -0.3148, 0.0556, 		0.0926, -0.2778, 0.0926},
			
		-- pieds inférieurs
			
			-- y = [-0.3519 ; -0.3148]
			
			{-0.1111, -0.3333, -0.1111, 		-0.0371, -0.3148, -0.0371},
			{-0.1111, -0.3333, 0.0371, 		-0.0371, -0.3148, 0.1111},
			{0.0371, -0.3333, -0.1111, 		0.1111, -0.3148, -0.0371},
			{0.0371, -0.3333, 0.0371, 		0.1111, -0.3148, 0.1111},
			
			{-0.1297, -0.3519, -0.1297, 		-0.0556, -0.3333, -0.0556},
			{-0.1297, -0.3519, 0.0556, 		-0.0556, -0.3333, 0.1297},
			{0.0556, -0.3519, -0.1297, 		0.1297, -0.3333, -0.0556},
			{0.0556, -0.3519, 0.0556, 		0.1297, -0.3333, 0.1297},
			
			-- y = [-0.3889 ; -0.3519]
			
			{-0.1482, -0.3704, -0.1482, 		-0.0741, -0.3519, -0.0741},
			{-0.1482, -0.3704, 0.0741, 		-0.0741, -0.3519, 0.1482},
			{0.0741, -0.3704, -0.1482, 		0.1482, -0.3519, -0.0741},
			{0.0741, -0.3704, 0.0741, 		0.1482, -0.3519, 0.1482},
			
			{-0.1667, -0.3889, -0.1667, 		-0.0926, -0.3704, -0.0926},
			{-0.1667, -0.3889, 0.0926, 		-0.0926, -0.3704, 0.1667},
			{0.0926, -0.3889, -0.1667, 		0.1667, -0.3704, -0.0926},
			{0.0926, -0.3889, 0.0926, 		0.1667, -0.3704, 0.1667},
			
			-- y = [-0.4259 ; -0.3889]
			
			{-0.1852, -0.4074, -0.1852, 		-0.1111, -0.3889, -0.1111},
			{-0.1852, -0.4074, 0.1111, 		-0.1111, -0.3889, 0.1852},
			{0.1111, -0.4074, -0.1852, 		0.1852, -0.3889, -0.1111},
			{0.1111, -0.4074, 0.1111, 		0.1852, -0.3889, 0.1852},
			
			{-0.2037, -0.4259, -0.2037, 		-0.1297, -0.4074, -0.1297},
			{-0.2037, -0.4259, 0.1297, 		-0.1297, -0.4074, 0.2037},
			{0.1297, -0.4259, -0.2037, 		0.2037, -0.4074, -0.1297},
			{0.1297, -0.4259, 0.1297, 		0.2037, -0.4074, 0.2037},
			
			-- y = [-0.4630 ; -0.4259]
			
			{-0.2222, -0.4444, -0.2222, 		-0.1482, -0.4259, -0.1482},
			{-0.2222, -0.4444, 0.1482, 		-0.1482, -0.4259, 0.2222},
			{0.1482, -0.4444, -0.2222, 		0.2222, -0.4259, -0.1482},
			{0.1482, -0.4444, 0.1482, 		0.2222, -0.4259, 0.2222},
			
			{-0.2408, -0.4630, -0.2408, 		-0.1667, -0.4444, -0.1667},
			{-0.2408, -0.4630, 0.1667, 		-0.1667, -0.4444, 0.2408},
			{0.1667, -0.4630, -0.2408, 		0.2408, -0.4444, -0.1667},
			{0.1667, -0.4630, 0.1667, 		0.2408, -0.4444, 0.2408},
			
			-- y = [-0.5 ; -0.4630]
			
			{-0.2593, -0.4815, -0.2593, 		-0.1852, -0.4630, -0.1852},
			{-0.2593, -0.4815, 0.1852, 		-0.1852, -0.4630, 0.2593},
			{0.1852, -0.4815, -0.2593, 		0.2593, -0.4630, -0.1852},
			{0.1852, -0.4815, 0.1852, 		0.2593, -0.4630, 0.2593},
			
			{-0.2778, -0.5, -0.2778, 		-0.1667, -0.4815, -0.1667},
			{-0.2778, -0.5, 0.1667, 		-0.1667, -0.4815, 0.2778},
			{0.1667, -0.5, -0.2778, 		0.2778, -0.4815, -0.1667},
			{0.1667, -0.5, 0.1667, 			0.2778, -0.4815, 0.2778},
			
		-- arcades pieds
			
			-- y = [-0.4815 ; -0.4444]
			
			{-0.1667, -0.4630, -0.2593, 		-0.1297, -0.4444, -0.2222},
			{0.1297, -0.4630, -0.2593, 		0.1667, -0.4444, -0.2222},
			{-0.1667, -0.4630, 0.2222, 		-0.1297, -0.4444, 0.2593},
			{0.1297, -0.4630, 0.2222, 		0.1667, -0.4444, 0.2593},
			
			{-0.2593, -0.4630, -0.1667, 		-0.2222, -0.4444, -0.1297},
			{-0.2593, -0.4630, 0.1297, 		-0.2222, -0.4444, 0.1667},
			{0.2222, -0.4630, -0.1667, 		0.2593, -0.4444, -0.1297},
			{0.2222, -0.4630, 0.1297, 		0.2593, -0.4444, 0.1667},
			
			
			{-0.1667, -0.4815, -0.2685, 		-0.1297, -0.4630, -0.2314},
			{0.1297, -0.4815, -0.2685, 		0.1667, -0.4630, -0.2314},
			{-0.1667, -0.4815, 0.2314, 		-0.1297, -0.4630, 0.2685},
			{0.1297, -0.4815, 0.2314, 		0.1667, -0.4630, 0.2685},
			
			{-0.2685, -0.4815, -0.1667, 		-0.2314, -0.4630, -0.1297},
			{-0.2685, -0.4815, 0.1297, 		-0.2314, -0.4630, 0.1667},
			{0.2314, -0.4815, -0.1667, 		0.2685, -0.4630, -0.1297},
			{0.2314, -0.4815, 0.1297, 		0.2685, -0.4630, 0.1667},
			
			-- y = [-0.4630 ; -0.4259]
			
			{-0.1297, -0.4444, -0.2408, 		-0.0556, -0.4259, -0.2037},
			{0.0556, -0.4444, -0.2408, 		0.1297, -0.4259, -0.2037},
			{-0.1297, -0.4444, 0.2037, 		-0.0556, -0.4259, 0.2408},
			{0.0556, -0.4444, 0.2037, 		0.1297, -0.4259, 0.2408},
			
			{-0.2408, -0.4444, -0.1297, 		-0.2037, -0.4259, -0.0556},
			{-0.2408, -0.4444, 0.0556, 		-0.2037, -0.4259, 0.1297},
			{0.2037, -0.4444, -0.1297, 		0.2408, -0.4259, -0.0556},
			{0.2037, -0.4444, 0.0556, 		0.2408, -0.4259, 0.1297},
			
			
			{-0.1297, -0.4630, -0.2500, 		-0.0556, -0.4444, -0.2129},
			{0.0556, -0.4630, -0.2500, 		0.1297, -0.4444, -0.2129},
			{-0.1297, -0.4630, 0.2129, 		-0.0556, -0.4444, 0.2500},
			{0.0556, -0.4630, 0.2129, 		0.1297, -0.4444, 0.2500},
			
			{-0.2500, -0.4630, -0.1297, 		-0.2129, -0.4444, -0.0556},
			{-0.2500, -0.4630, 0.0556, 		-0.2129, -0.4444, 0.1297},
			{0.2129, -0.4630, -0.1297, 		0.2500, -0.4444, -0.0556},
			{0.2129, -0.4630, 0.0556, 		0.2500, -0.4444, 0.1297},
			
			-- y = [-0.4444 ; -0.4074]
			
			{-0.0556, -0.4259, -0.2222, 		0.0556, -0.4074, -0.1852},
			{-0.0556, -0.4259, 0.1852, 		0.0556, -0.4074, 0.2222},
			{-0.2222, -0.4259, -0.0556, 		-0.1852, -0.4074, 0.0556},
			{0.1852, -0.4259, -0.0556, 		0.2222, -0.4074, 0.0556},
			
			{-0.0556, -0.4444, -0.2314, 		0.0556, -0.4259, -0.1944},
			{-0.0556, -0.4444, 0.1944, 		0.0556, -0.4259, 0.2314},
			{-0.2314, -0.4444, -0.0556, 		-0.1944, -0.4259, 0.0556},
			{0.1944, -0.4444, -0.0556, 		0.2314, -0.4259, 0.0556},		
			
		},
	},
	
--]]
	
	-- remets la sélection du node en "normale" (au lieu d'avoir des "trous" suivant la construction)
	
	selection_box = {
		type = "wallmounted",
		wall_top = {-0.2778, -0.1667, -0.2778, 	0.2778, 0.5, 0.2778},
		wall_bottom = {-0.2778, -0.5, -0.2778, 	0.2778, 0.1667, 0.2778},
		wall_side = {-0.5, -0.2778, -0.2778, 	0.1667, 0.2778, 0.2778},
	},
	

	
	
	groups = {cracky = 3, oddly_breakable_by_hand=3, menger_sponge=1},
	
	sounds = default.node_sound_stone_defaults(),
	
}) 



-- pour le crafter :

minetest.register_craft({
	output = "menger_sponge:light_1_3 8",
	recipe = {
		{"menger_sponge:lvl_1", "menger_sponge:lvl_1", "menger_sponge:lvl_1"},
		{"menger_sponge:lvl_1",    "default:torch"   , "menger_sponge:lvl_1"},
		{"menger_sponge:lvl_1", "menger_sponge:lvl_1", "menger_sponge:lvl_1"},
	}
})


-- pour le faire cuire :

minetest.register_craft({
	type = "cooking",
	output = "menger_sponge:lvl_1",
	recipe = "menger_sponge:light_1_3",
	cooktime = 1,
})





























